# -*- coding: utf-8 -*-

# 参考
# https://kivy.org/doc/stable/api-kivy.uix.textinput.html

<TestInput@TextInput_JA>:

	##	#:import main main
	##	#:set INPUT_H main.INPUT_H	# android では main.がエラーとなる
	##	#:set INPUT_W main.INPUT_W

	# 定数定義
	#:set INPUT_H 32 * 2
	#:set INPUT_W INPUT_H * 3

    multiline: False

    # 位置
    # pos_hint: {}
    pos_hint: {"center_y": 0.95, "center_x": 0.1}

	# サイズ
    size_hint: (None, None)
    width : INPUT_W
    height: INPUT_H

	# 文字入力
    halign: 'right'
    input_filter: 'int'

    ## 	この定義段階では root がエラーになる
    ## on_text_validate: root.InputEnter()

<ScoreInput@TextInput_JA>:
    multiline: False

    # 位置
    # pos_hint: {}
    #pos_hint: {"center_y": 0.95, "center_x": 0.1}

	# サイズ
    #size_hint: (None, None)
    #width : INPUT_W
    #height: INPUT_H

	# 文字入力
    #  halign: 'right'
    #  input_filter: 'int'

<GameTotalLabel@Label>:
	text: '0'
	# 文字揃え
    text_size: self.size
    halign: 'right'

<TitleButton@Button>

<XMainForm>
	#:set GAME_CAPTION 'Game : '

	#--------------------------------------------------
	#	main box
	#--------------------------------------------------
    BoxLayout:
        orientation: "vertical"
        size: root.width, root.height
		# レイアウトとの周辺間隔
        padding: 5
        # コントロール間 縦間隔
        spacing: 1

		#--------------------------------------------------
		#	top button box
		#--------------------------------------------------
        #Button:
            # size_hint: (1, .5)
            # font_size: 32
        #    text: "1"
        #    pos_hint: {"center_x": 0.5}
        #    size_hint: (1, 0.08)
            # width: 200
            # height: 50
            # on_press: root.ButtonPress()

    	BoxLayout:
            # pos_hint: {"center_x": 0.5}
            # size_hint: (1, 0.08)
	        # size: root.width, root.height
	        size_hint: 1, 0.08

        	Button:
	            text: "button 1"

		        Image:
					#########
		            source: app.image_path("test.png")
					#########
					## fit_mode: "scale-down"	# 上手く行かないので直接サイズ指定
					pos: self.parent.pos
		    		size: self.parent.width, self.parent.height


        	Button:
	            text: "Quit"
	            on_press: quit()

		#--------------------------------------------------
		#	input box
		#--------------------------------------------------
        # 前半(上段) game 1

        #Button:
        #    size_hint: (1, 0.5)

    	BoxLayout:
	        # orientation: "vertical"
            # pos_hint: {"center_x": 0.5}
            # size_hint: (1, 0.08)
	        # size: root.width, root.height
	        size_hint: 1, 0.5

	    	BoxLayout:
	        	orientation: "vertical"

				TitleButton:
					text: GAME_CAPTION + '1'

	        	ScoreInput:
		            id: input_1_1_1
				    on_text_validate: root.InputEnter()
				    on_focus: root.on_focus(self, self.focus)
	        	ScoreInput:
		            id: input_1_1_2
				    on_text_validate: root.InputEnter()
	        	ScoreInput:
		            id: input_1_1_3
				    on_text_validate: root.InputEnter()
	        	ScoreInput:
		            id: input_1_1_4
				    on_text_validate: root.InputEnter()
	        	ScoreInput:
		            id: input_1_1_5
				    on_text_validate: root.InputEnter()

				GameTotalLabel:
					id: total_1_1

############

	    	BoxLayout:
	        	orientation: "vertical"
	        	Button:
	        	Button:
	        	Button:
	        	Button:
	        	Button:
	        	Button:

	    	BoxLayout:
	        	orientation: "vertical"
	        	Button:
	        	Button:
	        	Button:
	        	Button:
	        	Button:
	        	Button:

	    	BoxLayout:
	        	orientation: "vertical"
	        	Button:
	        	Button:
	        	Button:
	        	Button:
	        	Button:
	        	Button:

        # 後半(下段)
        #Button:
            # size_hint: (1, .5)
            # font_size: 32
            # text: "2"
            # pos_hint: {"center_x": 0.2}
        #    size_hint: (1, 0.5)
            # width: 200
            # height: 50
        	# on_press: root.ButtonPress()

    	BoxLayout:
	        # orientation: "vertical"
            # pos_hint: {"center_x": 0.5}
            # size_hint: (1, 0.08)
	        # size: root.width, root.height
	        size_hint: 1, 0.5

	        Button:
	        Button:
	        Button:
	        Button:








		#--------------------------------------------------
		#	under dummy area
		#--------------------------------------------------
        Button:
        	id : button_under
            # size_hint: (1, .5)
            # font_size: 32
            text: "Under Dummy Area"
            pos_hint: {"center_x": 0.5}
            size_hint: (1, 0.4)
            # size_hint: (None, None)
            # width: 200
            # height: 50
            # on_press: root.ButtonTestPress()

